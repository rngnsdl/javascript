<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        //factorial

        const log = console.log;
        let factorial = n =>{
            if(n===0) return 1;//종료조건
            return n * factorial(n-1); //재귀함수 호출시 하나씩 감소
        }
        const memorized = fn =>{
            const lookupTable ={}; //빈 literal 생성 (literal객체)
            //객체이름[key]을 주면, key에 해당하는 value를 주고
            //객체이름[key]에 대입연산자 (=)을 이용하여 함수(fn)에 파라미터로
            //전달된 arg를 fn에 실행시 전달하고 전달되어 계산된 값을
            //그 객체의 key에 mapping함
            //lookupTable의 값이 false이면 함수 실행하지 않고(fn(arg))
            //lookupTable의 값을 바로 반환하여 호출한 곳으로 반환함
            return arg => lookupTable[arg]||(lookupTable[arg] =fn(arg));
        }
        //closure를 이용하여 이전 데이터 literal 객체의 값을 이용하여, 
        //최종 보관되어 있는 값을 구함
        let fastFactorial1 = memorized(n=>{
            if(n===0) return 1;
            return n *fastFactorial1(n-1);
        })
        console.time('시간');
        log(factorial(50));
        console.timeEnd('시간');
        console.time('시간');
        log(fastFactorial1(50));
        console.timeEnd('시간');
    </script>
</head>
<body>
    
</body>
</html>